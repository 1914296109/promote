## 什么是事物？

通常的观念认为，事务仅与数据库相关。事务必须服从ISO/IEC所制定的ACID原则。

- ACID是原子性（atomicity）、一致性（consistency）、隔离性isolation）和持久性（durability）的缩写。事务的

  - 原子性  表示事务执行过程中的任何失败都将导致事务所做的任何修改失效。

  - 一致性  表示当事务执行失败时，所有被该事务影响的数据都应该恢复到事务执行前的状态。

  - 隔离性  表示在事务执行过程中对数据的修改，在事务提交之前对其他事务不可见。

  - 持久性表示已提交的数据在事务执行失败时，数据的状态都应该正确。

> 通俗的理解，事务是一组原子操作单元，从数据库的角度来说，就是一组SQL命令，要么全部执行成功。若因为其中一条指令执行有错误，则撤销先前执行过的所有指令。
>
> 更简单的来说，要么全部执行成功，要么全部执行不成功。

## 为什么要使用事务？

直白一点来说，就是为了给自己留条后路。因为对于数据库的操作，是持久性的，所以我们需要谨慎对待，如果没有满足条件，对数据库的操作就会失效，也就是给自己一次反悔的机会，泼出去的水还可以收回来。

## 什么时候使用事务？

事务是为了解决数据安全操作提出的，事务控制实际上就是控制数据的安全访问。举一个简单的例子:

> 比如银行的转账业务，账户A要将自己账户上的666转到账户B下面,A账户余额首先需要减去666元，然后B账户要增加666元，假如中间网络出现了问题，A账户减去666元已经结束，B因为网络中断而操作失败，那么整个业务失败，必须要做出控制保证业务的正确性，这个时候就需要事务，要么全部执行成功，要么操作全部撤销，这样就保证了数据的安全性。